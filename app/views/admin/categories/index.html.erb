<!-- app/views/admin/categories/index.html.erb -->
<div class="container mt-4">
  <div class="row my-5 gx-5">
    <div class="col-md-6 mx-auto">
      <!-- フラッシュメッセージ -->
      <% if flash[:alert].present? %>
        <div class="alert alert-danger" role="alert">
          <%= flash[:alert] %>
        </div>
      <% end %>

      <% if flash[:notice].present? %>
        <div class="alert alert-success" role="alert">
          <%= flash[:notice] %>
        </div>
      <% end %>

      <h4 class="mb-3">カテゴリ一覧</h4>
      <ul class="list-group">
      <% @categories.each do |category| %>
        <li class="list-group-item">
          <div class="d-flex align-items-center justify-content-between">
            <div class="">
              <%= link_to category.name, admin_posts_path(category_id: category.id) %>
              <span class="badge bg-secondary rounded-pill">
                <%= @category_post_counts[category] %>
              </span>
            </div>
            <div class="btn-group">
              <%= link_to "編集", edit_admin_category_path(category), class: "btn btn-primary btn-sm" %>
              <%= link_to "削除", admin_category_path(category), method: :delete, data: { confirm: "本当に削除しますか？" }, class: "btn btn-danger btn-sm" %>
            </div>
          </div>
        </li>
      <% end %>
      </ul>

      <div class="mt-3">
        <%= link_to "新しいカテゴリを追加", new_admin_category_path, class: "btn btn-success btn-sm" %>
      </div>
    </div>
  </div>
</div>
